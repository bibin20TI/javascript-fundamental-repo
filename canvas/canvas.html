<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>belajar canvas html	</title>
	 <style>	
	 #canvas {
	 	border: 1px solid black;
	 	width: 400px;
	 	height:256px;
	 }</style>
</head>
<body>
		<canvas id="canvas">browses tidak mendukung</canvas>

		<script>
			 var burung1 = new Image();
			 burung1.src = 'img/karakter1.png';

			 var burung2 = new Image();
			 burung2.src = 'img/karakter2.png';

			 var bg = new Image();
			 bg.src = 'img/bg2.png';


			function mulaiCanvas() {
			var canvas = document.getElementById('canvas');
			var ctx =canvas.getContext('2d');
			canvas.width =canvas.scrollWidth;
			canvas.height =canvas.scrollHeight;
		     var  cW = canvas.width;
			var cH = canvas.height;

			utama();
	       


	       // function splash(){

	       // }

	       function utama() {
              
              function Bg() {

              	  this.x = 0;
              	  this.render = function(){
              	  	ctx.drawImage(bg,this.x--,0);

              	  	if(this.x == -399){
              	  		this.x = 0;
              	  	}
              	  }
              }

              var latar = new Bg();

              var gantiframe = false;
	       	  function Karakter() {
	       	  	this.x = 50;
	       	  	this.y = 50;
	       	  	this.w = 50;
	       	  	this.h = 50;
	       	  	this.i = 0;

	       	  	this.render = function() {
                    if(gantiframe){	
                       ctx.drawImage(burung2,this.x,this.y+=5); 
                       this.i++; 
                       if(this.i == 5){
                       	gantiframe = false;
                       	this.i = 0;
                       }     	  		
	       	  	}else{
	       	  		ctx.drawImage(burung1,this.x,this.y+=5);
	       	  	}

	       	  }

	       	}

	       	  var karakter = new Karakter();

	       	  function animasi() {
	       	  	ctx.save();

	       	  	ctx.clearRect(0,0,cW,cH);
                latar.render();
                karakter.render();
	       	  	ctx.restore();
	       	  }

	       	  var interval = setInterval(animasi,30);

	       	  ctx.canvas.addEventListener('click',function(event){

                   karakter.y+=-40;
                   gantiframe = true;
	       	  });


	       }

		       }
	       window.addEventListener('load',function(event){
	       	 mulaiCanvas();
	       });
			// function Mulai(){
   //                function backGround(){

   //                	this.x = 0;
   //                	this.render = function(){
   //                		ctx.drawImage(gambar,this.x--,0);

   //                		if(this.x == -399){
   //                			this.x = 0;
   //                		}
   //                	}
   //                function Karakter(){
   //                	this.x = 200;
   //                	this.y = 200;
   //                	this.w = 100;
   //                	this.h = 100;

   //                	this.render = function(){
   //                      karakter.render = function(){
   //                		ctx.drawImage(burung,this.x,this.y+=5);

   //                      }
   //                		ctx.restore();
   //                	}
   //                }
   //                let karakter = new Karakter();

   //                function animasi(){
   //                	ctx.save();
   //                	ctx.clearRect(0,0,cW,cH);
   //                	karakter.render();

   //                	ctx.restore();
   //                }

   //                let waktu = setInterval(animasi,30);
   //                }



   //                let latar = new backGround();
   //              function animasi() {
   //              	ctx.save();
   //              	ctx.clearRect(0,0,cW,cH);
   //                   latar.render();
   //              	ctx.restore();
   //              }

   //              setInterval(animasi,30);

			// }

			// window.addEventListener('load',function(event){
   //               Mulai();
			// });
           
		</script>
</body>
</html>